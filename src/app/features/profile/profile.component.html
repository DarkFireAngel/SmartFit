<!-- Header -->
<header class="sticky top-0 z-30 glass-panel backdrop-blur-md">
    <div class="flex items-center p-4 justify-between">
        <button
            class="flex size-10 items-center justify-center rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors">
            <span class="material-symbols-outlined">arrow_back</span>
        </button>
        <h2 class="text-lg font-bold leading-tight">Profilo</h2>
        <div class="w-10"></div>
    </div>
</header>

<main class="px-4 py-6 space-y-6">
    <!-- Profile Card -->
    <section class="bg-card-light dark:bg-card-dark rounded-xl p-6 shadow-sm">
        <div class="flex items-center gap-4 mb-4">
            <div class="size-20 rounded-full bg-gray-300 dark:bg-gray-700"></div>
            <div>
                <h3 class="text-xl font-bold">{{ userName }}</h3>
                <p class="text-sm text-gray-500 dark:text-gray-400">{{ userEmail }}</p>
            </div>
        </div>
        <button
            class="w-full py-3 rounded-lg bg-primary/10 text-primary font-semibold hover:bg-primary/20 transition-colors">
            Modifica Profilo
        </button>
    </section>

    <!-- Goals -->
    <section class="bg-card-light dark:bg-card-dark rounded-xl p-6 shadow-sm">
        <h3 class="text-lg font-bold mb-4">Obiettivi Giornalieri</h3>
        <div class="space-y-4">
            <div class="flex justify-between items-center">
                <span class="text-sm font-medium text-gray-600 dark:text-gray-400">Calorie</span>
                <span class="text-base font-bold">{{ dailyCalorieGoal }} kcal</span>
            </div>
            <div class="flex justify-between items-center">
                <span class="text-sm font-medium text-gray-600 dark:text-gray-400">Acqua</span>
                <span class="text-base font-bold">{{ dailyWaterGoal }} L</span>
            </div>
            <div class="flex justify-between items-center">
                <span class="text-sm font-medium text-gray-600 dark:text-gray-400">Proteine</span>
                <span class="text-base font-bold">{{ proteinGoal }} g</span>
            </div>
            <div class="flex justify-between items-center">
                <span class="text-sm font-medium text-gray-600 dark:text-gray-400">Carboidrati</span>
                <span class="text-base font-bold">{{ carbsGoal }} g</span>
            </div>
            <div class="flex justify-between items-center">
                <span class="text-sm font-medium text-gray-600 dark:text-gray-400">Grassi</span>
                <span class="text-base font-bold">{{ fatsGoal }} g</span>
            </div>
        </div>
    </section>

    <!-- Settings -->
    <section class="bg-card-light dark:bg-card-dark rounded-xl p-6 shadow-sm">
        <h3 class="text-lg font-bold mb-4">Impostazioni</h3>

        <!-- Dark Mode Toggle -->
        <div class="flex justify-between items-center py-3 border-b border-gray-100 dark:border-gray-800">
            <div class="flex items-center gap-3">
                <span class="material-symbols-outlined text-gray-600 dark:text-gray-400">dark_mode</span>
                <span class="font-medium">Modalit√† Scura</span>
            </div>
            <button (click)="toggleTheme()" class="relative w-12 h-6 rounded-full transition-colors"
                [ngClass]="themeService.isDark() ? 'bg-primary' : 'bg-gray-300'">
                <div class="absolute top-0.5 left-0.5 size-5 bg-white rounded-full transition-transform"
                    [ngClass]="themeService.isDark() ? 'translate-x-6' : 'translate-x-0'">
                </div>
            </button>
        </div>

        <!-- Export Data -->
        <button (click)="exportData()"
            class="flex justify-between items-center py-3 w-full border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors">
            <div class="flex items-center gap-3">
                <span class="material-symbols-outlined text-gray-600 dark:text-gray-400">download</span>
                <span class="font-medium">Esporta Dati</span>
            </div>
            <span class="material-symbols-outlined text-gray-400">chevron_right</span>
        </button>

        <!-- Import Data -->
        <label
            class="flex justify-between items-center py-3 w-full cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors">
            <div class="flex items-center gap-3">
                <span class="material-symbols-outlined text-gray-600 dark:text-gray-400">upload</span>
                <span class="font-medium">Importa Dati</span>
            </div>
            <span class="material-symbols-outlined text-gray-400">chevron_right</span>
            <input type="file" accept=".json" (change)="onFileSelected($event)" class="hidden">
        </label>
    </section>

    <!-- About -->
    <section class="bg-card-light dark:bg-card-dark rounded-xl p-6 shadow-sm">
        <div class="flex justify-between items-center">
            <span class="text-sm text-gray-500 dark:text-gray-400">Versione</span>
            <span class="text-sm font-medium">1.0.0</span>
        </div>
    </section>
</main>